<!DOCTYPE>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Pharmacy</title>
    <link rel="stylesheet" href="../css/add-pharmacy.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js"></script>
    <script type="module" src="../js/addPharmacy.js"></script>

</head>
<body>
<div class="container">
    <h5 class="h2 mb-5 mt-4">Add Order</h5>
    <div class="row">
        <div class="col-md-3">
            <div class="search-box">
                <div class="input-group">
                    <input type="search" class="form-control" placeholder="Search Product" >
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="form-group">
                <select id="filterSupplier" class="form-control">
                    <option value="" disabled selected>Supplier</option>

                </select>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="form-group">
                <select id="filterProduct" class="form-control">
                    <option value="" disabled selected>Product</option>

                </select>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="add-btn text-lg-right">
                <button class="btn btn-custom">Filter</button>
            </div>
        </div>
    </div>

    <div class="border rounded-xl bg-white">
        <table class="order-table">
            <thead>
            <tr>
                <th></th>
                <th>Name</th>
                <th>Price</th>
                <th>Is Active</th>
                <th>Quantity</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>
                    <input type="checkbox" class="order-checkbox" data-price="10" onchange="calculateTotal()">
                </td>
                <td>Order 1</td>
                <td>$10.00</td>
                <td>Active</td>
                <td>
                    <button class="btn btn-outline-secondary decrease-quantity" type="button">-</button>
                    <input type="number" class="form-control quantity" min="1" value="1">
                    <button class="btn btn-outline-secondary increase-quantity" type="button">+</button>
                </td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" class="order-checkbox" data-price="15" onchange="calculateTotal()">
                </td>
                <td>Order 2</td>
                <td>$15.00</td>
                <td>Active</td>
                <td>
                    <button class="btn btn-outline-secondary decrease-quantity" type="button">-</button>
                    <input type="number" class="form-control quantity" min="1" value="1">
                    <button class="btn btn-outline-secondary increase-quantity" type="button">+</button>
                </td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" class="order-checkbox" data-price="20" onchange="calculateTotal()">
                </td>
                <td>Order 3</td>
                <td>$20.00</td>
                <td>Not Active</td>
                <td>
                    <button class="btn btn-outline-secondary decrease-quantity" type="button">-</button>
                    <input type="number" class="form-control quantity" min="1" value="1">
                    <button class="btn btn-outline-secondary increase-quantity" type="button">+</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="row">
        <div class="col-lg-3">
            <div id="total-price">Total Price: $0.00</div>
        </div>

        <div class="col-lg-3">
            <div class="add-btn text-lg-right">
                <button class="btn btn-custom" onclick="resetTotal()" id="cancel-btn">Cancel</button>
            </div>
        </div>

        <div class="col-lg-3">
            <div class="add-btn text-lg-right">
                <button class="btn btn-custom" onclick="openOrderForm()" id="submit-order-btn">Submit Order</button>
            </div>
        </div>

        <script type="module">
            function openOrderForm() {
                window.open("confirm-order.html", "_blank", "width=600,height=400");
            }

            import {onInitial, supplierOption, optionData} from "../js/addDrug.js";
            onInitial()
            supplierOption()
            optionData()

            $(document).ready(function() {
                localStorage.getItem("getData")

                $('#decrease-quantity').click(function () {
                    let quantity = parseInt($('#quantity').val());
                    if (quantity > 1) {
                        quantity--;
                        $('#quantity').val(quantity);
                    }
                });

                $('#increase-quantity').click(function () {
                    let quantity = parseInt($('#quantity').val());
                    quantity++;
                    $('#quantity').val(quantity);
                });
            });

        </script>
    </div>
</div>

</head>
<script type="module" src="../js/addDrug.js"></script>
</body>
</html>